import{a9 as I,d as q,T as z,a5 as b,i as P,E as R,$ as y,f as F,j as V,aa as E,ab as M,ac as N,_ as T,g as U,o as j,c as A,h as B,k as D,q as w}from"./index_prod-00ee5e98.js";const K=({appId:o,appKey:u,avatar:h,placeholder:f,visitor:e,lang:r,meta:i,requiredFields:_,avatarForce:t,path:n})=>{new Valine({el:"#vcomments",appId:o,appKey:u,avatar:h,placeholder:f,visitor:e,lang:r,meta:i??[],requiredFields:_??[],avatarForce:t,path:I(n)})},k={en:"en",cn:"zh"},O=q({name:"ObComment",props:{title:{type:String,default:""},body:{type:String,default:""},uid:{type:String,default:""}},components:{Title:z},setup(o){const u=b(o).title,h=b(o).body,f=b(o).uid,e=P(),r=R();let i;const _=(t,n,c)=>{const x=!t||t===""?"":t,S=!n||n===""?window.location.href:`${window.location.href} 
 ${n}`,$=e.themeConfig.plugins.gitalk.id==="pathname"?window.location.pathname:c;if(r.setCache({title:t,body:n,uid:c}),!!e.configReady){if(e.themeConfig.plugins.gitalk.enable){const a=e.themeConfig.plugins.gitalk.proxy===""?"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token":e.themeConfig.plugins.gitalk.proxy,{clientID:s,clientSecret:l,repo:d,owner:p,admin:m,language:g}=e.themeConfig.plugins.gitalk;E({clientID:s,clientSecret:l,repo:d,owner:p,admin:m,language:g,uid:$,title:x,body:S,proxy:a})}else if(e.themeConfig.plugins.valine.enable){const{app_id:a,app_key:s,avatar:l,placeholder:d,visitor:p,lang:m,meta:g,requiredFields:v,avatarForce:C}=e.themeConfig.plugins.valine;K({appId:a,appKey:s,avatar:l,placeholder:d,visitor:p,lang:m,meta:g,requiredFields:v,avatarForce:C,path:window.location.pathname})}else if(e.themeConfig.plugins.twikoo.enable){const{envId:a,region:s,lang:l}=e.themeConfig.plugins.twikoo;M({envId:a,region:s,lang:l,path:window.location.pathname})}else if(e.themeConfig.plugins.waline.enable){const{serverURL:a,login:s,reaction:l,meta:d,requiredMeta:p,commentSorting:m,wordLimit:g,imageUploader:v,pageSize:C}=e.themeConfig.plugins.waline;i=N({serverURL:a,lang:k[e.locale??"en"],login:s,reaction:l,meta:d,requiredMeta:p,commentSorting:m,wordLimit:g,imageUploader:v,pageSize:C})}}};return y(()=>e.configReady,(t,n)=>{if(!n&&t){const c=r.cachePost;_(c.title,c.body,c.uid)}}),y(()=>e.locale,(t,n)=>{i&&t!==void 0&&t!==n&&i.update({lang:k[t]})}),F(()=>{_(u.value,h.value,f.value)}),{wrapperClasses:V(()=>({"bg-ob-deep-800 p-4 mt-8 lg:px-14 lg:py-10 rounded-2xl shadow-xl mb-8 lg:mb-0":!0,[`comment-${e.themeConfig.theme.profile_shape}`]:!0}))}}});const G=w("div",{id:"gitalk-container"},null,-1),H=w("div",{id:"vcomments"},null,-1),J=w("div",{id:"tcomment"},null,-1),L=w("div",{id:"waline"},null,-1);function Q(o,u,h,f,e,r){const i=U("Title");return j(),A("div",{class:D(o.wrapperClasses)},[B(i,{title:"titles.comment",icon:"quote",paddings:"pb-2 pt-0","text-size":"text-2xl md:text-3xl"},null,8,["title"]),G,H,J,L],2)}const X=T(O,[["render",Q]]);export{X as C};
